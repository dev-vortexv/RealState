"use strict";(self.webpackChunkQueenevaagentai=self.webpackChunkQueenevaagentai||[]).push([[383],{99383:function(e,i,l){l.r(i);var t=l(47313),a=l(41806),n=l(25002),o=l(47825),s=l(42832),r=l(61113),d=l(31095),c=l(73428),p=l(67662),x=l(77276),h=l(85833),u=l(36305),m=l(10237),g=l(97890),v=l(98616),j=l(67848),C=l(6210),Z=l(65954),f=l(51997),b=l(17592),w=l(17551),N=l(83965),S=l(43997),k=l(85582),y=l(51405),R=l(47131),_=l(50034),M=l(46064),z=l(69937),I=l(71585),E=l(46417);(0,b.ZP)((e=>(0,E.jsx)(k.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:i}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:i.spacing(1),minWidth:180,color:"light"===i.palette.mode?"rgb(55, 65, 81)":i.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:i.palette.text.secondary,marginRight:i.spacing(1.5)},"&:active":{backgroundColor:(0,w.Fq)(i.palette.primary.main,i.palette.action.selectedOpacity)}}}}}));i.default=()=>{const[e,i]=(0,t.useState)([]),l=(0,g.s0)(),[b,w]=(0,t.useState)(!1),[k,F]=(0,t.useState)(!1),[O,P]=(0,t.useState)(null),[T,$]=(0,t.useState)(!1),[Q,A]=(0,t.useState)(!1),[D,q]=(0,t.useState)(!1),[B,J]=(0,t.useState)([]),[L,V]=(0,t.useState)(null),W=JSON.parse(localStorage.getItem("user")),[G,H]=t.useState(null),[K,U]=(0,t.useState)(),X=()=>{H(null)},Y=Boolean(G),[ee,ie]=(0,t.useState)([]),[le,te]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=await(0,C.ac)("admin"===W.role?"api/contact/viewallcontacts":`api/contact/viewusercontacts/${W._id}`);"admin"===W.role?ie(e.data.contactDetails):ie(e.data)}catch(e){console.log(e)}})()}),[b,T,k,Q,D]);const ae=[{field:"title",headerName:"Title",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"firstName",headerName:"First Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,E.jsx)(a.Z,{onClick:()=>{l(`/dashboard/contact/view/${e.row._id}`)},children:e.value})},{field:"lastName",headerName:"Last Name",flex:1,cellClassName:"name-column--cell--capitalize"},{field:"phoneNumber",headerName:"Phone Number",flex:1},{field:"email",headerName:"Email Address",flex:1},{field:"preferredContactMethod",headerName:"Contact Method",flex:1},{field:"action",headerName:"Action",flex:1,renderCell:e=>(0,E.jsx)(E.Fragment,{children:(0,E.jsxs)("div",{children:[(0,E.jsx)(R.Z,{"aria-describedby":null===e||void 0===e?void 0:e.row._id,variant:"contained",onClick:i=>((e,i)=>{H(e.currentTarget),U(i)})(i,null===e||void 0===e?void 0:e.row),children:(0,E.jsx)(S.Z,{})}),(0,E.jsxs)(n.ZP,{id:null===e||void 0===e?void 0:e.row._id,open:Y,anchorEl:G,onClose:X,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:[(0,E.jsxs)(y.Z,{onClick:()=>{F(!0)},disableRipple:!0,children:[(0,E.jsx)(Z.Z,{style:{marginRight:"8px"}}),"Edit"]}),(0,E.jsxs)(y.Z,{onClick:()=>{q(!0)},disableRipple:!0,children:[(0,E.jsx)(u.Z,{style:{marginRight:"8px"}}),"Create Call"]}),(0,E.jsxs)(y.Z,{onClick:()=>{A(!0)},disableRipple:!0,children:[(0,E.jsx)(N.Z,{style:{marginRight:"8px"}}),"Send Email"]}),(0,E.jsxs)(y.Z,{onClick:()=>{l(`/dashboard/contact/view/${null===K||void 0===K?void 0:K._id}`)},disableRipple:!0,children:[(0,E.jsx)(m.Z,{style:{marginRight:"8px",color:"green"}}),"View"]}),(0,E.jsxs)(y.Z,{onClick:()=>{$(!0)},sx:{color:"red"},disableRipple:!0,children:[(0,E.jsx)(f.Z,{style:{marginRight:"8px",color:"red"}}),"Delete"]})]})]})})}];console.log(K);return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(j.Z,{open:b,handleClose:()=>w(!1)}),(0,E.jsx)(_.Z,{open:T,handleClose:()=>{$(!1),X()},id:null===K||void 0===K?void 0:K._id}),(0,E.jsx)(M.Z,{open:k,handleClose:()=>F(!1),data:K}),(0,E.jsx)(z.Z,{open:Q,onClose:()=>A(!1),id:null===K||void 0===K?void 0:K._id,recipientEmail:null===K||void 0===K?void 0:K.email}),(0,E.jsx)(I.Z,{open:D,onClose:()=>q(!1),id:null===K||void 0===K?void 0:K._id,recipientName:null===K||void 0===K?void 0:K.firstName}),(0,E.jsxs)(o.Z,{children:[(0,E.jsxs)(s.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,E.jsx)(r.Z,{variant:"h4",children:"Contact-Management"}),(0,E.jsx)(s.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,E.jsx)(d.Z,{variant:"contained",startIcon:(0,E.jsx)(v.Z,{icon:"eva:plus-fill"}),onClick:()=>w(!0),children:"New Contact"})})]}),(0,E.jsx)(p.Z,{children:(0,E.jsx)(a.Z,{width:"100%",children:(0,E.jsxs)(c.Z,{style:{height:"600px",paddingTop:"15px"},children:[(0,E.jsxs)(r.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Contacts ( ",null===ee||void 0===ee?void 0:ee.length," )"]}),(0,E.jsx)(x._$,{rows:ee,columns:ae,checkboxSelection:!0,getRowId:e=>null===e||void 0===e?void 0:e._id,slots:{toolbar:h.n},slotProps:{toolbar:{showQuickFilter:!0}}})]})})})]})]})}}}]);