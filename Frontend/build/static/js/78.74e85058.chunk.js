"use strict";(self.webpackChunkQueenevaagentai=self.webpackChunkQueenevaagentai||[]).push([[78],{60078:function(e,l,i){i.r(l);var a=i(97890),o=i(77276),n=i(85833),d=i(65954),r=i(98616),t=i(67662),s=i(47313),c=i(41806),u=i(25002),x=i(47825),p=i(42832),v=i(61113),h=i(31095),g=i(73428),m=i(36305),j=i(10237),b=i(51997),C=i(17592),Z=i(17551),w=i(83965),f=i(43997),S=i(85582),k=i(51405),N=i(6210),R=i(47131),y=i(16633),_=i(39810),E=i(24249),I=i(46808),M=i(5833),O=i(46417);(0,C.ZP)((e=>(0,O.jsx)(S.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:l}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:l.spacing(1),minWidth:180,color:"light"===l.palette.mode?"rgb(55, 65, 81)":l.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:l.palette.text.secondary,marginRight:l.spacing(1.5)},"&:active":{backgroundColor:(0,Z.Fq)(l.palette.primary.main,l.palette.action.selectedOpacity)}}}}}));l.default=()=>{const e=(0,a.s0)(),[l,i]=(0,s.useState)(!1),[C,Z]=(0,s.useState)(!1),[S,z]=(0,s.useState)(!1),[P,F]=(0,s.useState)(),[L,B]=(0,s.useState)(!1),[$,Q]=(0,s.useState)(!1),[T,q]=(0,s.useState)([]),[A,D]=(0,s.useState)([]),[J,V]=(0,s.useState)(null),W=JSON.parse(localStorage.getItem("user")),[G,H]=s.useState(null),K=()=>{H(null)},U=Boolean(G);(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,N.ac)("admin"===W.role?"api/lead/viewallleads":`api/lead/viewuserleads/${W._id}`);q(null===e||void 0===e?void 0:e.data)}catch(e){console.log(e)}})()}),[l,C,S]);const X=[{field:"leadName",headerName:"Name",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:l=>(0,O.jsx)(c.Z,{onClick:()=>{e(`/dashboard/lead/view/${null===l||void 0===l?void 0:l.row._id}`)},children:null===l||void 0===l?void 0:l.value})},{field:"leadStatus",headerName:"Status",flex:1,cellClassName:"name-column--cell--capitalize",renderCell:e=>{var l,i;return(0,O.jsx)(c.Z,{sx:"active"==(null===e||void 0===e||null===(l=e.value)||void 0===l?void 0:l.toLowerCase())?{backgroundColor:"#01B574",color:"white",padding:"4px",borderRadius:"5px"}:"pending"==(null===e||void 0===e||null===(i=e.value)||void 0===i?void 0:i.toLowerCase())?{backgroundColor:"#ECC94B",color:"white",padding:"4px",borderRadius:"5px"}:{backgroundColor:"#eb7b74",color:"white",padding:"4px",borderRadius:"5px"},children:null===e||void 0===e?void 0:e.value})}},{field:"leadEmail",headerName:"Email",flex:1},{field:"leadPhoneNumber",headerName:"Phone Number",flex:1},{field:"leadOwner",headerName:"Owner",flex:1},{field:"leadScore",headerName:"Score",flex:1,renderCell:e=>(0,O.jsx)(c.Z,{sx:(null===e||void 0===e?void 0:e.value)>=80||(null===e||void 0===e?void 0:e.value)>=50&&(null===e||void 0===e?void 0:e.value)<80?{color:"#01B574"}:{color:"#eb7b74"},children:null===e||void 0===e?void 0:e.value})},{field:"action",headerName:"Action",flex:1,renderCell:l=>(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{children:[(0,O.jsx)(R.Z,{"aria-describedby":null===l||void 0===l?void 0:l.row._id,variant:"contained",onClick:e=>((e,l)=>{H(e.currentTarget),F(l)})(e,null===l||void 0===l?void 0:l.row),children:(0,O.jsx)(f.Z,{})}),(0,O.jsxs)(u.ZP,{id:null===l||void 0===l?void 0:l.row._id,open:U,anchorEl:G,onClose:K,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:[(0,O.jsxs)(k.Z,{onClick:()=>{Z(!0)},disableRipple:!0,children:[(0,O.jsx)(d.Z,{style:{marginRight:"8px"}}),"Edit"]}),(0,O.jsxs)(k.Z,{onClick:()=>(e=>{V(e),Q(!0)})(),disableRipple:!0,children:[(0,O.jsx)(m.Z,{style:{marginRight:"8px"}}),"Create Call"]}),(0,O.jsxs)(k.Z,{onClick:()=>{B(!0)},disableRipple:!0,children:[(0,O.jsx)(w.Z,{style:{marginRight:"8px"}}),"Send Email"]}),(0,O.jsxs)(k.Z,{onClick:()=>{e(`/dashboard/lead/view/${P._id}`)},disableRipple:!0,children:[(0,O.jsx)(j.Z,{style:{marginRight:"8px",color:"green"}}),"View"]}),(0,O.jsxs)(k.Z,{onClick:()=>(z(!0),void K()),sx:{color:"red"},disableRipple:!0,children:[(0,O.jsx)(b.Z,{style:{marginRight:"8px",color:"red"}}),"Delete"]})]})]})})}];return console.log(P),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(y.Z,{open:l,handleClose:()=>i(!1)}),(0,O.jsx)(_.Z,{open:S,handleClose:()=>z(!1),id:null===P||void 0===P?void 0:P._id}),(0,O.jsx)(E.Z,{open:C,handleClose:()=>Z(!1),data:P}),(0,O.jsx)(I.Z,{open:L,onClose:()=>B(!1),id:null===P||void 0===P?void 0:P._id,recipientEmail:null===P||void 0===P?void 0:P.leadEmail}),(0,O.jsx)(M.Z,{open:$,onClose:()=>Q(!1),id:null===P||void 0===P?void 0:P._id,recipientName:null===P||void 0===P?void 0:P.leadName}),(0,O.jsxs)(x.Z,{children:[(0,O.jsxs)(p.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,O.jsx)(v.Z,{variant:"h4",children:"Lead-Management"}),(0,O.jsx)(p.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,O.jsx)(h.Z,{variant:"contained",startIcon:(0,O.jsx)(r.Z,{icon:"eva:plus-fill"}),onClick:()=>i(!0),children:"New Lead"})})]}),(0,O.jsx)(t.Z,{children:(0,O.jsx)(c.Z,{width:"100%",children:(0,O.jsx)(g.Z,{style:{height:"600px",paddingTop:"15px"},children:T&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(v.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Leads ( ",null===T||void 0===T?void 0:T.length," )"]}),(0,O.jsx)(o._$,{rows:T,columns:X,checkboxSelection:!0,getRowId:e=>null===e||void 0===e?void 0:e._id,slots:{toolbar:n.n},slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})]})}}}]);