"use strict";(self.webpackChunkQueenevaagentai=self.webpackChunkQueenevaagentai||[]).push([[151],{82151:function(e,t,i){i.r(t);var a=i(97890),l=i(77276),n=i(85833),r=i(65954),s=i(98616),o=i(67662),d=i(2270),c=i(47313),x=i(41806),p=i(25002),h=i(47825),u=i(42832),g=i(61113),m=i(31095),v=i(73428),j=i(10237),f=i(51997),Z=i(17592),k=i(17551),b=i(43997),w=i(85582),C=i(51405),S=i(47131),y=i(76310),N=i(75169),R=i(6210),T=i(46417);(0,Z.ZP)((e=>(0,T.jsx)(w.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:(0,k.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));t.default=()=>{const[e,t]=(0,c.useState)(!1),[i,Z]=(0,c.useState)(!1),[k,w]=(0,c.useState)([]),[_,I]=(0,c.useState)(!1),[M,z]=(0,c.useState)(null),[F,O]=c.useState(null),[D,E]=(0,c.useState)([]),[P,$]=(0,c.useState)([]),[Q,A]=(0,c.useState)(null),q=JSON.parse(localStorage.getItem("user")),[B,J]=(0,c.useState)(),V=(0,a.s0)(),W=()=>{O(null)},G=Boolean(F);(0,c.useEffect)((()=>{(async()=>{try{var e;const t=await(0,R.ac)("admin"===q.role?"api/task/viewalltasks":`api/task/viewusertasks/${q._id}`);E(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e.taskData)}catch(t){console.log(t)}})()}),[e,i,_]);const H=[{field:"title",headerName:"Title",flex:1,cellClassName:"name-column--cell name-column--cell--capitalize",renderCell:e=>(0,T.jsx)(x.Z,{onClick:()=>{V(`/task/view/${e.row._id}`)},children:e.value})},{field:"category",headerName:"Related",flex:1},{field:"assignmentToName",headerName:"Assignment To",flex:1},{field:"start",headerName:"Start Date",flex:1},{field:"end",headerName:"End Date",flex:1},{field:"action",headerName:"Action",flex:1,renderCell:e=>(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)("div",{children:[(0,T.jsx)(S.Z,{"aria-describedby":null===e||void 0===e?void 0:e.row._id,variant:"contained",onClick:t=>((e,t)=>{O(e.currentTarget),J(t)})(t,null===e||void 0===e?void 0:e.row),children:(0,T.jsx)(b.Z,{})}),(0,T.jsxs)(p.ZP,{id:null===e||void 0===e?void 0:e.row._id,open:G,anchorEl:F,onClose:W,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:[(0,T.jsxs)(C.Z,{onClick:()=>{Z(!0)},disableRipple:!0,children:[(0,T.jsx)(r.Z,{style:{marginRight:"8px"}}),"Edit"]}),(0,T.jsxs)(C.Z,{onClick:()=>{V(`/task/view/${B._id}`)},disableRipple:!0,children:[(0,T.jsx)(j.Z,{style:{marginRight:"8px",color:"green"}}),"View"]}),(0,T.jsxs)(C.Z,{onClick:()=>{I(!0)},sx:{color:"red"},disableRipple:!0,children:[(0,T.jsx)(f.Z,{style:{marginRight:"8px",color:"red"}}),"Delete"]})]})]})})}];return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(d.Z,{open:e,handleClose:()=>t(!1)}),(0,T.jsx)(y.Z,{open:i,handleClose:()=>Z(!1),data:B}),(0,T.jsx)(N.Z,{open:_,handleClose:()=>{I(!1),W()},id:null===B||void 0===B?void 0:B._id}),(0,T.jsxs)(h.Z,{children:[(0,T.jsxs)(u.Z,{direction:"row",alignItems:"center",mb:5,justifyContent:"space-between",children:[(0,T.jsx)(g.Z,{variant:"h4",children:"Tasks"}),(0,T.jsx)(u.Z,{direction:"row",alignItems:"center",justifyContent:"flex-end",spacing:2,children:(0,T.jsx)(m.Z,{variant:"contained",startIcon:(0,T.jsx)(s.Z,{icon:"eva:plus-fill"}),onClick:()=>t(!0),children:"New Task"})})]}),(0,T.jsx)(o.Z,{children:(0,T.jsx)(x.Z,{width:"100%",children:(0,T.jsx)(v.Z,{style:{height:"600px",paddingTop:"15px"},children:D&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(g.Z,{variant:"h4",sx:{margin:"2px 15px"},children:["Tasks ( ",null===D||void 0===D?void 0:D.length," )"]}),(0,T.jsx)(l._$,{rows:D,columns:H,checkboxSelection:!0,getRowId:e=>e._id,slots:{toolbar:n.n},slotProps:{toolbar:{showQuickFilter:!0}}})]})})})})]})]})}}}]);